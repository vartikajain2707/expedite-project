{"{\"assumptions\":{},\"sourceRoot\":\"/Users/Vartika.Jain/expedite-project/handlers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/Vartika.Jain/expedite-project\",\"filename\":\"/Users/Vartika.Jain/expedite-project/handlers/products.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/Vartika.Jain/expedite-project\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.26.0:development":{"value":{"code":"const AWS = require('aws-sdk');\nconst {\n  v4: uuidv4\n} = require('uuid');\nconst dynamoDb = new AWS.DynamoDB.DocumentClient();\nconst PRODUCTS_TABLE = process.env.PRODUCTS_TABLE;\nconsole.log({\n  PRODUCTS_TABLE\n});\nmodule.exports.createProduct = async event => {\n  const {\n    name,\n    description,\n    price,\n    category,\n    stock\n  } = event;\n  const timestamp = new Date().toISOString();\n  const newProduct = {\n    productId: uuidv4(),\n    name,\n    description,\n    price,\n    category,\n    stock,\n    createdAt: timestamp,\n    updatedAt: timestamp\n  };\n  const params = {\n    TableName: PRODUCTS_TABLE,\n    Item: newProduct\n  };\n  try {\n    await dynamoDb.put(params).promise();\n    return {\n      statusCode: 201,\n      body: JSON.stringify(newProduct)\n    };\n  } catch (error) {\n    console.error(error);\n    return {\n      statusCode: 500,\n      body: JSON.stringify({\n        error: 'Could not create product'\n      })\n    };\n  }\n};\nmodule.exports.getProduct = async event => {\n  const {\n    productId\n  } = event.pathParameters;\n  const params = {\n    TableName: PRODUCTS_TABLE,\n    Key: {\n      ProductId: productId\n    }\n  };\n  try {\n    const result = await dynamoDb.get(params).promise();\n    if (!result.Item) {\n      return {\n        statusCode: 404,\n        body: JSON.stringify({\n          error: 'Product not found'\n        })\n      };\n    }\n    return {\n      statusCode: 200,\n      body: JSON.stringify(result.Item)\n    };\n  } catch (error) {\n    console.error(error);\n    return {\n      statusCode: 500,\n      body: JSON.stringify({\n        error: 'Could not retrieve product'\n      })\n    };\n  }\n};\nmodule.exports.createProduct({\n  name: 'shirt',\n  description: 'Medium size shirt of blue color',\n  price: '$45',\n  category: 'clothes'\n}).then();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJBV1MiLCJyZXF1aXJlIiwidjQiLCJ1dWlkdjQiLCJkeW5hbW9EYiIsIkR5bmFtb0RCIiwiRG9jdW1lbnRDbGllbnQiLCJQUk9EVUNUU19UQUJMRSIsInByb2Nlc3MiLCJlbnYiLCJjb25zb2xlIiwibG9nIiwibW9kdWxlIiwiZXhwb3J0cyIsImNyZWF0ZVByb2R1Y3QiLCJldmVudCIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsInByaWNlIiwiY2F0ZWdvcnkiLCJzdG9jayIsInRpbWVzdGFtcCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsIm5ld1Byb2R1Y3QiLCJwcm9kdWN0SWQiLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiLCJwYXJhbXMiLCJUYWJsZU5hbWUiLCJJdGVtIiwicHV0IiwicHJvbWlzZSIsInN0YXR1c0NvZGUiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImVycm9yIiwiZ2V0UHJvZHVjdCIsInBhdGhQYXJhbWV0ZXJzIiwiS2V5IiwiUHJvZHVjdElkIiwicmVzdWx0IiwiZ2V0IiwidGhlbiJdLCJzb3VyY2VSb290IjoiL1VzZXJzL1ZhcnRpa2EuSmFpbi9leHBlZGl0ZS1wcm9qZWN0L2hhbmRsZXJzLyIsInNvdXJjZXMiOlsicHJvZHVjdHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgQVdTID0gcmVxdWlyZSgnYXdzLXNkaycpO1xuY29uc3QgeyB2NDogdXVpZHY0IH0gPSByZXF1aXJlKCd1dWlkJyk7XG5jb25zdCBkeW5hbW9EYiA9IG5ldyBBV1MuRHluYW1vREIuRG9jdW1lbnRDbGllbnQoKTtcblxuY29uc3QgUFJPRFVDVFNfVEFCTEUgPSBwcm9jZXNzLmVudi5QUk9EVUNUU19UQUJMRTtcbmNvbnNvbGUubG9nKHtQUk9EVUNUU19UQUJMRX0pXG5cbm1vZHVsZS5leHBvcnRzLmNyZWF0ZVByb2R1Y3QgPSBhc3luYyAoZXZlbnQpID0+IHtcbiAgICBjb25zdCB7IG5hbWUsIGRlc2NyaXB0aW9uLCBwcmljZSwgY2F0ZWdvcnksIHN0b2NrIH0gPSBldmVudDtcbiAgICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cbiAgICBjb25zdCBuZXdQcm9kdWN0ID0ge1xuICAgICAgICBwcm9kdWN0SWQ6IHV1aWR2NCgpLFxuICAgICAgICBuYW1lLFxuICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgcHJpY2UsXG4gICAgICAgIGNhdGVnb3J5LFxuICAgICAgICBzdG9jayxcbiAgICAgICAgY3JlYXRlZEF0OiB0aW1lc3RhbXAsXG4gICAgICAgIHVwZGF0ZWRBdDogdGltZXN0YW1wXG4gICAgfTtcblxuICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgVGFibGVOYW1lOiBQUk9EVUNUU19UQUJMRSxcbiAgICAgICAgSXRlbTogbmV3UHJvZHVjdCxcbiAgICB9O1xuXG4gICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgZHluYW1vRGIucHV0KHBhcmFtcykucHJvbWlzZSgpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RhdHVzQ29kZTogMjAxLFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkobmV3UHJvZHVjdCksXG4gICAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgIHJldHVybiB7IHN0YXR1c0NvZGU6IDUwMCwgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBlcnJvcjogJ0NvdWxkIG5vdCBjcmVhdGUgcHJvZHVjdCcgfSkgfTtcbiAgICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cy5nZXRQcm9kdWN0ID0gYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgY29uc3QgeyBwcm9kdWN0SWQgfSA9IGV2ZW50LnBhdGhQYXJhbWV0ZXJzO1xuXG4gICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICBUYWJsZU5hbWU6IFBST0RVQ1RTX1RBQkxFLFxuICAgICAgICBLZXk6IHsgUHJvZHVjdElkOiBwcm9kdWN0SWQgfSxcbiAgICB9O1xuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZHluYW1vRGIuZ2V0KHBhcmFtcykucHJvbWlzZSgpO1xuICAgICAgICBpZiAoIXJlc3VsdC5JdGVtKSB7XG4gICAgICAgICAgICByZXR1cm4geyBzdGF0dXNDb2RlOiA0MDQsIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgZXJyb3I6ICdQcm9kdWN0IG5vdCBmb3VuZCcgfSkgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7IHN0YXR1c0NvZGU6IDIwMCwgYm9keTogSlNPTi5zdHJpbmdpZnkocmVzdWx0Lkl0ZW0pIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgIHJldHVybiB7IHN0YXR1c0NvZGU6IDUwMCwgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBlcnJvcjogJ0NvdWxkIG5vdCByZXRyaWV2ZSBwcm9kdWN0JyB9KSB9O1xuICAgIH1cbn07XG5cblxubW9kdWxlLmV4cG9ydHMuY3JlYXRlUHJvZHVjdCh7XG4gICAgbmFtZTogJ3NoaXJ0JyxcbiAgICBkZXNjcmlwdGlvbjonTWVkaXVtIHNpemUgc2hpcnQgb2YgYmx1ZSBjb2xvcicsXG4gICAgcHJpY2U6JyQ0NScsXG4gICAgY2F0ZWdvcnk6J2Nsb3RoZXMnXG59KS50aGVuKClcbiJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsR0FBRyxHQUFHQyxPQUFPLENBQUMsU0FBUyxDQUFDO0FBQzlCLE1BQU07RUFBRUMsRUFBRSxFQUFFQztBQUFPLENBQUMsR0FBR0YsT0FBTyxDQUFDLE1BQU0sQ0FBQztBQUN0QyxNQUFNRyxRQUFRLEdBQUcsSUFBSUosR0FBRyxDQUFDSyxRQUFRLENBQUNDLGNBQWMsQ0FBQyxDQUFDO0FBRWxELE1BQU1DLGNBQWMsR0FBR0MsT0FBTyxDQUFDQyxHQUFHLENBQUNGLGNBQWM7QUFDakRHLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDO0VBQUNKO0FBQWMsQ0FBQyxD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","map":{"version":3,"names":["AWS","require","v4","uuidv4","dynamoDb","DynamoDB","DocumentClient","PRODUCTS_TABLE","process","env","console","log","module","exports","createProduct","event","name","description","price","category","stock","timestamp","Date","toISOString","newProduct","productId","createdAt","updatedAt","params","TableName","Item","put","promise","statusCode","body","JSON","stringify","error","getProduct","pathParameters","Key","ProductId","result","get","then"],"sourceRoot":"/Users/Vartika.Jain/expedite-project/handlers/","sources":["products.js"],"sourcesContent":["const AWS = require('aws-sdk');\nconst { v4: uuidv4 } = require('uuid');\nconst dynamoDb = new AWS.DynamoDB.DocumentClient();\n\nconst PRODUCTS_TABLE = process.env.PRODUCTS_TABLE;\nconsole.log({PRODUCTS_TABLE})\n\nmodule.exports.createProduct = async (event) => {\n    const { name, description, price, category, stock } = event;\n    const timestamp = new Date().toISOString();\n\n    const newProduct = {\n        productId: uuidv4(),\n        name,\n        description,\n        price,\n        category,\n        stock,\n        createdAt: timestamp,\n        updatedAt: timestamp\n    };\n\n    const params = {\n        TableName: PRODUCTS_TABLE,\n        Item: newProduct,\n    };\n\n    try {\n        await dynamoDb.put(params).promise();\n        return {\n            statusCode: 201,\n            body: JSON.stringify(newProduct),\n        };\n    } catch (error) {\n        console.error(error);\n        return { statusCode: 500, body: JSON.stringify({ error: 'Could not create product' }) };\n    }\n};\n\nmodule.exports.getProduct = async (event) => {\n    const { productId } = event.pathParameters;\n\n    const params = {\n        TableName: PRODUCTS_TABLE,\n        Key: { ProductId: productId },\n    };\n\n    try {\n        const result = await dynamoDb.get(params).promise();\n        if (!result.Item) {\n            return { statusCode: 404, body: JSON.stringify({ error: 'Product not found' }) };\n        }\n\n        return { statusCode: 200, body: JSON.stringify(result.Item) };\n    } catch (error) {\n        console.error(error);\n        return { statusCode: 500, body: JSON.stringify({ error: 'Could not retrieve product' }) };\n    }\n};\n\n\nmodule.exports.createProduct({\n    name: 'shirt',\n    description:'Medium size shirt of blue color',\n    price:'$45',\n    category:'clothes'\n}).then()\n"],"mappings":"AAAA,MAAMA,GAAG,GAAGC,OAAO,CAAC,SAAS,CAAC;AAC9B,MAAM;EAAEC,EAAE,EAAEC;AAAO,CAAC,GAAGF,OAAO,CAAC,MAAM,CAAC;AACtC,MAAMG,QAAQ,GAAG,IAAIJ,GAAG,CAACK,QAAQ,CAACC,cAAc,CAAC,CAAC;AAElD,MAAMC,cAAc,GAAGC,OAAO,CAACC,GAAG,CAACF,cAAc;AACjDG,OAAO,CAACC,GAAG,CAAC;EAACJ;AAAc,CAAC,CAAC;AAE7BK,MAAM,CAACC,OAAO,CAACC,aAAa,GAAG,MAAOC,KAAK,IAAK;EAC5C,MAAM;IAAEC,IAAI;IAAEC,WAAW;IAAEC,KAAK;IAAEC,QAAQ;IAAEC;EAAM,CAAC,GAAGL,KAAK;EAC3D,MAAMM,SAAS,GAAG,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;EAE1C,MAAMC,UAAU,GAAG;IACfC,SAAS,EAAEtB,MAAM,CAAC,CAAC;IACnBa,IAAI;IACJC,WAAW;IACXC,KAAK;IACLC,QAAQ;IACRC,KAAK;IACLM,SAAS,EAAEL,SAAS;IACpBM,SAAS,EAAEN;EACf,CAAC;EAED,MAAMO,MAAM,GAAG;IACXC,SAAS,EAAEtB,cAAc;IACzBuB,IAAI,EAAEN;EACV,CAAC;EAED,IAAI;IACA,MAAMpB,QAAQ,CAAC2B,GAAG,CAACH,MAAM,CAAC,CAACI,OAAO,CAAC,CAAC;IACpC,OAAO;MACHC,UAAU,EAAE,GAAG;MACfC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACZ,UAAU;IACnC,CAAC;EACL,CAAC,CAAC,OAAOa,KAAK,EAAE;IACZ3B,OAAO,CAAC2B,KAAK,CAACA,KAAK,CAAC;IACpB,OAAO;MAAEJ,UAAU,EAAE,GAAG;MAAEC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAEC,KAAK,EAAE;MAA2B,CAAC;IAAE,CAAC;EAC3F;AACJ,CAAC;AAEDzB,MAAM,CAACC,OAAO,CAACyB,UAAU,GAAG,MAAOvB,KAAK,IAAK;EACzC,MAAM;IAAEU;EAAU,CAAC,GAAGV,KAAK,CAACwB,cAAc;EAE1C,MAAMX,MAAM,GAAG;IACXC,SAAS,EAAEtB,cAAc;IACzBiC,GAAG,EAAE;MAAEC,SAAS,EAAEhB;IAAU;EAChC,CAAC;EAED,IAAI;IACA,MAAMiB,MAAM,GAAG,MAAMtC,QAAQ,CAACuC,GAAG,CAACf,MAAM,CAAC,CAACI,OAAO,CAAC,CAAC;IACnD,IAAI,CAACU,MAAM,CAACZ,IAAI,EAAE;MACd,OAAO;QAAEG,UAAU,EAAE,GAAG;QAAEC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAEC,KAAK,EAAE;QAAoB,CAAC;MAAE,CAAC;IACpF;IAEA,OAAO;MAAEJ,UAAU,EAAE,GAAG;MAAEC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACM,MAAM,CAACZ,IAAI;IAAE,CAAC;EACjE,CAAC,CAAC,OAAOO,KAAK,EAAE;IACZ3B,OAAO,CAAC2B,KAAK,CAACA,KAAK,CAAC;IACpB,OAAO;MAAEJ,UAAU,EAAE,GAAG;MAAEC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAEC,KAAK,EAAE;MAA6B,CAAC;IAAE,CAAC;EAC7F;AACJ,CAAC;AAGDzB,MAAM,CAACC,OAAO,CAACC,aAAa,CAAC;EACzBE,IAAI,EAAE,OAAO;EACbC,WAAW,EAAC,iCAAiC;EAC7CC,KAAK,EAAC,KAAK;EACXC,QAAQ,EAAC;AACb,CAAC,CAAC,CAACyB,IAAI,CAAC,CAAC","ignoreList":[]}},"mtime":1737784072074}}